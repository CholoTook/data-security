<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>GA4GH Data Security | AAI</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="GA4GH Data Security">
<meta property="og:locale" content="en_US">
<meta name="description" content="AAI">
<meta property="og:description" content="AAI">
<link rel="canonical" href="/data-security/1.2-draft-initial-small-fixes/aai-faq">
<meta property="og:url" content="/data-security/1.2-draft-initial-small-fixes/aai-faq">
<meta property="og:site_name" content="GA4GH Data Security">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="GA4GH Data Security">
<script type="application/ld+json">
{"description":"AAI","url":"/data-security/1.2-draft-initial-small-fixes/aai-faq","@type":"WebPage","headline":"GA4GH Data Security","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/data-security/1.2-draft-initial-small-fixes/assets/main.css">
<link type="application/atom+xml" rel="alternate" href="/data-security/1.2-draft-initial-small-fixes/feed.xml" title="GA4GH Data Security">
</head>
<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/data-security/1.2-draft-initial-small-fixes/">GA4GH Data Security</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title"></h1>
  </header>

  <div class="post-content">
    <h2 id="frequently-asked-questions-and-implementation-examples">Frequently Asked Questions and Implementation Examples</h2>
<h2 id="can-the-output-of-userinfo-be-used-as-a-jwt-for-authentication">Can the output of <code class="language-plaintext highlighter-rouge">/userinfo</code> be used as a JWT for Authentication?</h2>

<p>The spec says that <code class="language-plaintext highlighter-rouge">/userinfo</code> may be formatted as a JWT. A Clearinghouse that sends an access token to a <code class="language-plaintext highlighter-rouge">/userinfo</code> endpoint might get either JSON or a formatted and signed JWT from a broker. The JWT can be used downstream as an authentication mechanism if downstream services like Clearinghouses support it and know what to do with it.</p>

<p>It is probable that a special token endpoint will exist in a future version of this profile that should prevent the <code class="language-plaintext highlighter-rouge">/userinfo</code> endpoint from being overloaded.</p>

<h2 id="can-a-jwt-alone-be-used-for-authentication-even-if-the-spec-mostly-talks-about-oidc-flow">Can a JWT alone be used for authentication even if the spec mostly talks about OIDC Flow?</h2>

<p>Yes. This specification allows for groups to organize themselves in many ways.</p>

<p>A trusted group of Brokers and Claims Clearinghouses are permitted to format <code class="language-plaintext highlighter-rouge">/userinfo</code> output as a JWT and use that as a means of how their services communicate. They can also take <code class="language-plaintext highlighter-rouge">/userinfo</code> JSON output and format it through some other means into a JWT. Proper due-dilligence and handling of tokens must be followed.</p>

<p>This specification does not prohibit services from using JWTs as authentication outside of an OIDC flow.</p>

<p>An example: Two different stacks of software all have a similar user-base and often use the same shared data resource â€“ a biobank, for instance. The User authenticates with Biobank Broker on Software stack S1 and gets <code class="language-plaintext highlighter-rouge">/userinfo</code> output as a JWT. The JWT includes GA4GH Passport Visas for a Dataset that the Broker holds permissions for. S1 might not hold the data, S2 might hold the data. The User may be allowed to bring that JWT to Software Stack S2 and get data authorized by the claim in the JWT and held by S2, provided that S2 can trust S1 as a valid and trustworthy client.</p>

<p>This enables two or more software stacks to work together more fluidly than having the same user authenticate twice across two stacks to access the same data. There is an assumption that these two software stacks have agreements and risk assessment in place in order to make this a secure method of authentication and that the User is aware that they are exchanging information with another stack without explicit OIDC-style consent.</p>

<p><img src="GA4GH_JWT-only_flow.png" alt="JWT-Only Flow between trusted stacks"></p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/data-security/1.2-draft-initial-small-fixes/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">GA4GH Data Security</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">GA4GH Data Security</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>AAI</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
